<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Crude Quality Inc.</title>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700,900|Roboto:300,400,700|Vesper+Libre:400,500,700,900" rel="stylesheet">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="js/barba.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/home.css" />
    <style>
    p {
      position: relative;
      overflow-y: hidden;
    }
    </style>
    <script id="post-vert" type="x-shader/x-vertex">
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    </script>
    <script id="post-frag" type="x-shader/x-fragment">
      #include <packing>
      varying vec2 vUv;
      uniform sampler2D tDiffuse;
      uniform sampler2D tDepth;
      uniform float cameraNear;
      uniform float cameraFar;
      float readDepth (sampler2D depthSampler, vec2 coord) {
        float fragCoordZ = texture2D(depthSampler, coord).x;
        float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
        return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );
      }
      void main() {
        vec3 diffuse = texture2D(tDiffuse, vUv).rgb;
        float depth = readDepth(tDepth, vUv);
        gl_FragColor.rgb = vec3(depth);
        gl_FragColor.a = 1.0;
      }
    </script>

  </head>
  <body>
    <div class="header">
      <canvas></canvas>
    </div>
    <a href="index.html"><img height="50px" style="top: 20px; left: 20px;" src="assets/logo_white.png"></a>
    <div id="nav-icon4">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div id="barba-wrapper">
      <div class="barba-container">
      <div class="menu" style="display: none">
        <div class="menu-item" style="display: none">
          <h2 id="to_home" style="top: 15%; left: 45%;"><a class="white-font navg" href="index.html">Home</a></h2>
          <h2 id="to_about" style="top: 25%; left: 45%;"><a class="white-font navg" href="corporate.html">About Us</a></h2>
          <h2 id="to_services" class="white-font navg" style="cursor: pointer; top: 35%; left: 45%;">Services</h2>
          <h2 id="to_projects" class="white-font navg" style="cursor: pointer; top: 45%; left: 45%;">Projects</h2>
          <h2 id="to_committee" style="top: 55%; left: 45%;"><a class="white-font navg" href="committee.html">Committees</a></h2>
          <h2 id="to_links" class="white-font navg" style="cursor: pointer; top: 65%; left: 45%;">Links</h2>
          <h2 id="to_contact" class="white-font navg" style="cursor: pointer; top: 75%; left: 45%;">Contact</h2>
        </div>
      </div>
        <div class="dark-background"></div>
        <h1 class="white-font" style="top: 10%; left: 25%;">Committee Participation</h1>
        <div id="com-first" class="box" style="cursor: ew-resize">
          <div class="title-vert title-one first" style="position: absolute; top: 47%; left: 13%"><h2 class="white-font white-border" >CAPP<br>Crude Oil Committee</h2></div>
          <div class="descr-one first">
            <p>
              Reporting to the Markets & Transportation Executive Policy Group, the Crude Oil Committee works primarily with regulated segments of the industry such as transportation, storage, and market access.
              <br><br>
              Some of the priorities CAPP is addressing on an ongoing basis for crude oil include: <br><br>
              ‣&nbsp;&nbsp;analyze transportation expansions to facilitate growing crude supply<br>
              ‣&nbsp;&nbsp;manage oil quality issues to ensure maximum value amid growing crude oil types and blends<br>
              ‣&nbsp;&nbsp;increase interaction with Canadian and U.S. regulators<br>
              ‣&nbsp;&nbsp;continue negotiated settlements for oil pipelines and address tariff and toll design issues
            </p>
          </div>
        </div>
        <div id="com-second" class="box" class="box" style="cursor: ew-resize">
          <div class="title-vert title-two second" style="position: absolute; top: 47%; left: 150%; opacity: 0;"><h2 class="white-font white-border" >CAPP<br>Crude Oil Quality<br>Committee</h2></div>
          <div class="descr-two second" style="opacity: 0; left: 150%">
            <p>
              Reporting to the Markets & Transportation Executive Policy Group through the Crude Oil Committee, The Crude Oil Quality Committee is focused on specific crude quality issues that impact the netback value of crude oil streams to their producers.
              <br><br>
              Some of the priorities the Crude Oil Quality Committee is addressing include: <br><br>
              ‣&nbsp;&nbsp;condensate quality specifications and quality recommendations<br>
              ‣&nbsp;&nbsp;olefin test method improvements<br>
              ‣&nbsp;&nbsp;<i>volatile phosphorus</i> reduction<br>
              ‣&nbsp;&nbsp;new crude approvals process
            </p>
          </div>
        </div>
        <div id="com-third" class="box" class="box" style="cursor: ew-resize">
          <div class="title-vert title-three third" style="position: absolute; top: 47%; left: 150%; opacity: 0;"><h2 class="white-font white-border">COQA<br>Crude Oil<br>Subcommittee</h2></div>
          <div class="descr-three third" style="opacity: 0; left: 150%">
            <p>
              Canadian crude oil is becoming ever more prevalent in the United States. This subcommittee discusses the issues that are inherent in refining and shipping these crudes.
              <br><br>
              Some of the priorities the Canadian Crude Oil Subcommittee is addressing include: <br><br>
              ‣&nbsp;&nbsp;stream consistency and reliability on delivery to refineries<br>
              ‣&nbsp;&nbsp;TAN levels and distributions throughout yield curve<br>
              ‣&nbsp;&nbsp;secondary properties such as asphalt and coking are rarely available<br>
              ‣&nbsp;&nbsp;synthetics, synthetic-bitumen blends
            </p>
          </div>
        </div>
      </div>
    </div>
    <div id="info" class="container-fluid">
      <br/>
      <div id="error" style="display: none;">
      Your browser does not support <strong>WEBGL_depth_texture</strong>.<br/><br/>
      This demo will not work.
      </div>
    </div>
		<script src="js/three.min.js"></script>
    <script src="js/shaders/SSAOShader.js"></script>
    <script src="js/controls/OrbitControls.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
      $('#nav-icon4').click(function(){
        $(this).toggleClass('open');
        $('.menu').fadeToggle('fast', function() {
          $('.menu-item').fadeToggle('slow');
        });
      });
      $('.navg').click(function() {
        $('#nav-icon4').toggleClass('open');
      })
      $('.first').click(function() {
        $('.first').animate({
          left: '-50%',
          opacity: '0'
        }, 800, function() {
          $('.first').css("left", "110%");
          $('.descr-one').css("left", "140%");
        });
        $('.title-two').animate({
          opacity: '100',
          left: '12%'
        }, 800);
        $('.descr-two').animate({
          opacity: '100',
          left: '40%'
        }, 800);
      });
      $('.second').click(function() {
        $('.second').animate({
          left: '-50%',
          opacity: '0'
        }, 800, function() {
          $('.second').css("left", "110%");
          $('.descr-two').css("left", "140%");  
        });
        $('.title-three').animate({
          opacity: '100',
          left: '12%'
        }, 800);
        $('.descr-three').animate({
          opacity: '100',
          left: '40%'
        }, 800);
      });
     $('.third').click(function() {
        $('.third').animate({
          left: '-50%',
          opacity: '0'
        }, 800, function() {
          $('.third').css("left", "110%");
          $('.descr-three').css("left", "140%");
        });
        $('.title-one').animate({
          opacity: '100',
          left: '12%'
        }, 800);
        $('.descr-one').animate({
          opacity: '100',
          left: '40%'
        }, 800);
      });
    });
    </script>
    <script type="text/javascript">
    Barba.Pjax.start();
    var BaseTransition = Barba.BaseTransition;
    var FadeTransition = Barba.BaseTransition.extend({
      start: function() {
        /**
         * This function is automatically called as soon the Transition starts
         * this.newContainerLoading is a Promise for the loading of the new container
         * (Barba.js also comes with an handy Promise polyfill!)
         */

        // As soon the loading is finished and the old page is faded out, let's fade the new page
        Promise
          .all([this.newContainerLoading, this.fadeOut()])
          .then(this.fadeIn.bind(this));
      },

      fadeOut: function() {
        /**
         * this.oldContainer is the HTMLElement of the old Container
         */

        return $(this.oldContainer).animate({ opacity: 0 }).promise();
      },

      fadeIn: function() {
        /**
         * this.newContainer is the HTMLElement of the new Container
         * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)
         * Please note, newContainer is available just after newContainerLoading is resolved!
         */

        var _this = this;
        var $el = $(this.newContainer);

        $(this.oldContainer).hide();

        $el.css({
          visibility : 'visible',
          opacity : 0
        });

        $el.animate({ opacity: 1 }, 400, function() {
          /**
           * Do not forget to call .done() as soon your transition is finished!
           * .done() will automatically remove from the DOM the old Container
           */

          _this.done();
        });
      }
    });

    /**
     * Next step, you have to tell Barba to use the new Transition
     */

    Barba.Pjax.getTransition = function() {
      /**
       * Here you can use your own logic!
       * For example you can use different Transition based on the current page or link...
       */

      return FadeTransition;
    };
    </script>
    <script>
      var camera, scene, renderer, controls, mesh;
      var target;
      var postScene, postCamera;
      var supportsExtension = true;
      init();
      animate();
      function init() {
        var canvas = document.querySelector('canvas');
        var gl;
        try {
          gl = canvas.getContext('webgl2');
        } catch (err) {
          console.error(err);
        }
        var isWebGL2 = Boolean(gl);
        renderer = new THREE.WebGLRenderer( {
          canvas: canvas,
          context: gl
        } );
        if ( !renderer.extensions.get('WEBGL_depth_texture') ) {
          supportsExtension = false;
          document.querySelector('#error').style.display = 'block';
          return;
        }
        renderer.setPixelRatio( window.devicePixelRatio );
        renderer.setSize( window.innerWidth, window.innerHeight );
        renderer.setClearColor( 0x101010, 1);

        //
        camera = new THREE.PerspectiveCamera( 25, window.innerWidth / window.innerHeight, 0.01, 40 );
        camera.position.z = 0;
        camera.position.x += 10;
        camera.position.y += 41;
        controls = new THREE.OrbitControls( camera, renderer.domElement );
        controls.enableDamping = true;
        controls.dampingFactor = 0.25;
        controls.rotateSpeed = 0.35;
        controls.enabled = false;
        // Our scene
        scene = new THREE.Scene();
        setupScene();
        onWindowResize();
        window.addEventListener( 'resize', onWindowResize, false );
      }
      function setupScene () {
        var diffuse = new THREE.TextureLoader().load('js/textures/brick_diffuse.jpg');
        diffuse.wrapS = diffuse.wrapT = THREE.RepeatWrapping;
        // Setup some geometries
        loader = new THREE.JSONLoader();
        var material = new THREE.MeshPhongMaterial( { wireframe: true, color: 0xffffff} );
        loader.load( "assets/drop.js", function( geometry ) {
		        mesh = new THREE.Mesh( geometry, material);
		        mesh.scale.set( 10, 10, 10 );
		        mesh.position.y = 0;
		        mesh.position.x = 0;
		        scene.add(mesh);
            mesh.rotation.set(0, Math.PI * 2, 0); // Set initial rotation
            //mesh.matrix.setRotationFromEuler(mesh.rotation); // Apply rotation to the object's matrix
		    } );
        var light = new THREE.PointLight( 0x999999 );
        light.position.set( 10, 10, 10 );
        scene.add( light );

      }
      function onWindowResize() {
        var aspect = window.innerWidth / window.innerHeight;
        camera.aspect = aspect;
        camera.updateProjectionMatrix();
        var dpr = renderer.getPixelRatio();
        //target.setSize( window.innerWidth * dpr, window.innerHeight * dpr );
        renderer.setSize( window.innerWidth, window.innerHeight );
      }
      function animate() {
        if ( !supportsExtension ) return;
        requestAnimationFrame( animate );
        for ( var i = 0; i < scene.children.length; i ++ ) {
          var object = scene.children[ i ];
          object.rotation.x += 0.00;
          object.rotation.y += 0.0005;
        }
        controls.update();
        renderer.render( scene, camera, target );
      }
    </script>

  </body>
</html>